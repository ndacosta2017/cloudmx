{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\skyat\\\\Documents\\\\GitHub\\\\cloudmx\\\\modules\\\\PassWordRecovery.js\";\nimport 'react-native-gesture-handler';\nimport * as React from 'react';\nimport { useState, useEffect, useLayoutEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { TextInput } from 'react-native-gesture-handler';\nvar logo = {\n  uri: 'https://reactnative.dev/img/tiny_logo.png',\n  width: 64,\n  height: 64\n};\n\nfunction PassWordScreen(_ref) {\n  var navigation = _ref.navigation;\n  var use = 'admin';\n  var pass = 'pass';\n  var use2 = 'viewer';\n  var ex = 35;\n  var mode = false;\n  var hangID = 0;\n  var airID = 1;\n\n  var _useState = useState('Username'),\n      _useState2 = _slicedToArray(_useState, 2),\n      Username = _useState2[0],\n      setUsername = _useState2[1];\n\n  function userNameFunc(Username) {\n    setUsername(Username);\n  }\n\n  var _useState3 = useState('Password'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Password = _useState4[0],\n      setPassword = _useState4[1];\n\n  function passWordFunc(Password) {\n    setPassword(Password);\n  }\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      email = _useState6[0],\n      setEmail = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      lockOut = _useState8[0],\n      setLockOut = _useState8[1];\n\n  var _useState9 = useState(5),\n      _useState10 = _slicedToArray(_useState9, 2),\n      wrongCredentials = _useState10[0],\n      setWrongCredentials = _useState10[1];\n\n  useEffect(function () {\n    setUsername('');\n    setPassword('');\n  }, []);\n\n  function check(navigation) {\n    var url, url2, requestOptions;\n    return _regeneratorRuntime.async(function check$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (wrongCredentials == 0 || lockOut == false) {\n              setLockOut(false);\n              alert('You have been locked out of the app for repeated failed login attempts. Please alert an admin for assistance or click the link above if you have forgotten your password.');\n            }\n\n            if (!(wrongCredentials > 0)) {\n              _context.next = 23;\n              break;\n            }\n\n            url = \"https://7n9cvyktjg.execute-api.us-east-1.amazonaws.com/test/users?username=\" + Username + \"&password=\" + Password;\n            url2 = \"https://7n9cvyktjg.execute-api.us-east-1.amazonaws.com/test/admin?username=\" + Username + \"&password=\" + Password;\n            requestOptions = {\n              method: 'POST',\n              mode: 'cors',\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            };\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(postData(url, requestOptions));\n\n          case 7:\n            if (!_context.sent) {\n              _context.next = 12;\n              break;\n            }\n\n            mode = false;\n            navigation.navigate('Map', {\n              itemID: Username,\n              adminViewer: mode,\n              aicraftID: airID,\n              hangarID: hangID\n            });\n            _context.next = 23;\n            break;\n\n          case 12:\n            _context.next = 14;\n            return _regeneratorRuntime.awrap(postData(url2, requestOptions));\n\n          case 14:\n            if (!_context.sent) {\n              _context.next = 20;\n              break;\n            }\n\n            setWrongCredentials(5);\n            mode = true;\n            navigation.navigate('Map', {\n              itemID: Username,\n              adminViewer: mode,\n              aircraftID: airID,\n              hangarID: hangID\n            });\n            _context.next = 23;\n            break;\n\n          case 20:\n            setWrongCredentials(wrongCredentials - 1);\n\n            if (wrongCredentials > 1) {\n              alert('Wrong Username and/or Password. You have ' + wrongCredentials + ' more tries.');\n            }\n\n            if (wrongCredentials == 1) {\n              alert('Wrong Username and/or Password. You have ' + wrongCredentials + ' more try.');\n            }\n\n          case 23:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function postData(url, requestOptions) {\n    var test = fetch(url, requestOptions).then(function (response) {\n      return response.json();\n    }).then(function (users) {\n      if (users.length > 0) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n    return test;\n  }\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }\n  }, React.createElement(Image, {\n    style: styles.logo,\n    source: require(\"../assets/Air_Force_logo.png\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }), React.createElement(StatusBar, {\n    style: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: styles.inputView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, React.createElement(TextInput, {\n    style: styles.TextInput,\n    editable: false,\n    placeholder: \"Please enter your email address below\",\n    placeholderTextColor: \"white\",\n    onChangeText: function onChangeText(Username) {\n      return setUsername(Username);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: styles.inputView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, React.createElement(TextInput, {\n    style: styles.TextInput,\n    editable: lockOut,\n    placeholder: \"Enter your email here\",\n    placeholderTextColor: \"white\",\n    secureTextEntry: false,\n    onChangeText: function onChangeText(email) {\n      return setEmail(email);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  })), React.createElement(TouchableOpacity, {\n    style: styles.loginBtn,\n    onPress: function onPress() {\n      return alert('An email for password verification has been sent to ' + email);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.inputText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, \"Send Link to Email\")));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"gray\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputView: {\n    backgroundColor: \"#FF0000\",\n    borderRadius: 30,\n    width: \"80%\",\n    height: 65,\n    marginBottom: 20,\n    justifyContent: 'center',\n    alignContent: 'center',\n    alignItems: \"center\"\n  },\n  TextInput: {\n    height: 50,\n    flex: 1,\n    padding: 10,\n    marginLeft: 20,\n    color: 'white',\n    justifyContent: 'center',\n    alignContent: 'center',\n    alignItems: 'center',\n    alignSelf: 'center'\n  },\n  rightHead: {\n    color: '#fff',\n    fontSize: 18,\n    paddingRight: 10\n  },\n  forgot_button: {\n    height: 30,\n    marginBottom: 30,\n    color: 'white'\n  },\n  loginBtn: {\n    width: \"80%\",\n    borderRadius: 25,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 40,\n    backgroundColor: \"#000080\"\n  },\n  inputText: {\n    color: 'white',\n    justifyContent: 'center',\n    alignContent: 'center',\n    alignItems: 'center',\n    alignSelf: 'center'\n  },\n  logo: {\n    borderColor: \"blue\",\n    borderWidth: 0,\n    flex: 0.3,\n    width: 200,\n    height: 200,\n    marginBottom: 10\n  }\n});\nexport default PassWordScreen;","map":{"version":3,"sources":["C:/Users/skyat/Documents/GitHub/cloudmx/modules/PassWordRecovery.js"],"names":["React","useState","useEffect","useLayoutEffect","TextInput","logo","uri","width","height","PassWordScreen","navigation","use","pass","use2","ex","mode","hangID","airID","Username","setUsername","userNameFunc","Password","setPassword","passWordFunc","email","setEmail","lockOut","setLockOut","wrongCredentials","setWrongCredentials","check","alert","url","url2","requestOptions","method","headers","postData","navigate","itemID","adminViewer","aicraftID","hangarID","aircraftID","test","fetch","then","response","json","users","length","styles","container","require","inputView","loginBtn","inputText","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","borderRadius","marginBottom","alignContent","padding","marginLeft","color","alignSelf","rightHead","fontSize","paddingRight","forgot_button","marginTop","borderColor","borderWidth"],"mappings":"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","sourcesContent":["import 'react-native-gesture-handler';\r\nimport * as React from 'react';\r\nimport { useState, useEffect,useLayoutEffect, } from 'react';\r\nimport { StyleSheet, Text, View, Button, StatusBar, TouchableOpacity, Image } from 'react-native';\r\nimport { TextInput } from 'react-native-gesture-handler';\r\n\r\nconst logo = {\r\n  uri: 'https://reactnative.dev/img/tiny_logo.png',\r\n  width: 64,\r\n  height: 64\r\n};\r\n\r\nfunction PassWordScreen ({navigation}) {\r\n\r\n  const use = 'admin'\r\n  const pass = 'pass'\r\n  const use2 = 'viewer'\r\n  var ex = 35\r\n  var mode = false\r\n  var hangID = 0\r\n  var airID = 1\r\n\r\n  const [Username, setUsername] = useState('Username');\r\n\r\n  function userNameFunc(Username){\r\n    setUsername(Username);\r\n\r\n  }\r\n\r\n  const [Password, setPassword] = useState('Password');\r\n\r\n  function passWordFunc(Password){\r\n    setPassword(Password);\r\n\r\n  }\r\n\r\n  const [email, setEmail] = useState('');\r\n\r\n  const [lockOut,setLockOut] = useState(true)\r\n\r\n  const [wrongCredentials,setWrongCredentials] = useState(5)\r\n\r\n  useEffect(() => {\r\n    setUsername('')\r\n    setPassword('')\r\n\r\n  }, []);\r\n\r\n  //const [login, setLogin] = useState(false);\r\n\r\n  async function check(navigation){\r\n\r\n    if ((wrongCredentials == 0) || (lockOut == false)){\r\n      setLockOut(false)\r\n      alert('You have been locked out of the app for repeated failed login attempts. Please alert an admin for assistance or click the link above if you have forgotten your password.')\r\n    }\r\n\r\n    if (wrongCredentials > 0){\r\n\r\n    var url = \"https://7n9cvyktjg.execute-api.us-east-1.amazonaws.com/test/users?username=\"+Username+\"&password=\"+Password\r\n    var url2 = \"https://7n9cvyktjg.execute-api.us-east-1.amazonaws.com/test/admin?username=\"+Username+\"&password=\"+Password\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        mode: 'cors',\r\n        headers: { 'Content-Type': 'application/json' }\r\n    }\r\n    if(await postData(url, requestOptions))\r\n    {\r\n        //the user is viewer\r\n        mode = false\r\n        navigation.navigate('Map',{itemID: Username, adminViewer: mode,aicraftID: airID,hangarID: hangID})\r\n    }\r\n    \r\n    else if(await postData(url2, requestOptions))\r\n    {\r\n        //the user is admin\r\n        setWrongCredentials(5)\r\n        mode = true\r\n        navigation.navigate('Map',{itemID: Username, adminViewer: mode, aircraftID: airID,hangarID: hangID})\r\n    }\r\n    else{\r\n      setWrongCredentials(wrongCredentials - 1)\r\n      if (wrongCredentials > 1){\r\n        alert('Wrong Username and/or Password. You have '+wrongCredentials+' more tries.')\r\n      }\r\n      if (wrongCredentials ==1){\r\n        alert('Wrong Username and/or Password. You have '+wrongCredentials+' more try.')\r\n      }\r\n  \r\n    }\r\n             //\r\n    }\r\n  }\r\n    \r\n  // Example POST method implementation:\r\n function postData(url, requestOptions) {\r\n \r\n     var test = fetch(url, requestOptions)\r\n      .then(response => response.json())\r\n      .then(users => {\r\n        if(users.length > 0) \r\n        {\r\n            return true\r\n        }\r\n        else\r\n        {\r\n            return false\r\n        }\r\n    })\r\n //console.log(test)\r\n return test\r\n}\r\n  //const [email, setEmail] = useState(\"\");\r\n  /*\r\n\r\n  if (username == Admin){\r\n    mode = true\r\n    return true\r\n  }\r\n  else if (username == Viewer){\r\n    mode = false\r\n    return true\r\n  }\r\n  else {\r\n    return false \r\n  }\r\n\r\n  */\r\n  //const [password, setPass] = useState(\"\"); style={styles.logo}\r\n\r\n    return (\r\n    <View style={styles.container}>\r\n      <Image style={styles.logo} source={require(\"../assets/Air_Force_logo.png\")} />\r\n      \r\n      <StatusBar style=\"auto\" />\r\n      <View style={styles.inputView}>\r\n        <TextInput\r\n          style={styles.TextInput}\r\n          editable={false}\r\n          placeholder=\"Please enter your email address below\"\r\n          placeholderTextColor=\"white\"\r\n          onChangeText={(Username) => setUsername(Username)}\r\n        />\r\n      </View>\r\n\r\n      <View style={styles.inputView}>\r\n        <TextInput\r\n          style={styles.TextInput}\r\n          editable={lockOut}\r\n          placeholder=\"Enter your email here\"\r\n          placeholderTextColor=\"white\"\r\n          secureTextEntry={false}\r\n          onChangeText={(email) => setEmail(email)}\r\n        />\r\n      </View>\r\n\r\n\r\n      <TouchableOpacity style={styles.loginBtn}\r\n      onPress = { ()=> alert('An email for password verification has been sent to '+email) } >\r\n        <Text style={styles.inputText} >\r\n          Send Link to Email\r\n        </Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n                  \r\n    )\r\n  }\r\n\r\n  const styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      backgroundColor: \"gray\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n  \r\n    inputView: {\r\n      backgroundColor: \"#FF0000\",\r\n      borderRadius: 30,\r\n      width: \"80%\",\r\n      height: 65,\r\n      marginBottom: 20,\r\n      justifyContent: 'center',\r\n      alignContent: 'center',\r\n      alignItems: \"center\",\r\n    },\r\n  \r\n    TextInput: {\r\n      height: 50,\r\n      flex: 1,\r\n      padding: 10,\r\n      marginLeft: 20,\r\n      color: 'white',\r\n      justifyContent: 'center',\r\n      alignContent: 'center',\r\n      alignItems: 'center',\r\n      alignSelf: 'center'\r\n    },\r\n    rightHead:{\r\n      color: '#fff',\r\n      fontSize: 18,\r\n      paddingRight: 10\r\n    },\r\n  \r\n    forgot_button: {\r\n      height: 30,\r\n      marginBottom: 30,\r\n      color: 'white'\r\n    },\r\n  \r\n    loginBtn: {\r\n      width: \"80%\",\r\n      borderRadius: 25,\r\n      height: 50,\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      marginTop: 40,\r\n      backgroundColor: \"#000080\",\r\n    },\r\n    inputText: {\r\n      color: 'white',\r\n      justifyContent: 'center',\r\n      alignContent: 'center',\r\n      alignItems: 'center',\r\n      alignSelf: 'center'\r\n    },\r\n    logo: {\r\n      borderColor: \"blue\",\r\n      borderWidth: 0,\r\n      flex: 0.3,\r\n      width: 200,\r\n      height: 200,\r\n      marginBottom: 10\r\n      //resizeMode: 'contain',\r\n    },\r\n    \r\n  })\r\n\r\nexport default PassWordScreen ;"]},"metadata":{},"sourceType":"module"}